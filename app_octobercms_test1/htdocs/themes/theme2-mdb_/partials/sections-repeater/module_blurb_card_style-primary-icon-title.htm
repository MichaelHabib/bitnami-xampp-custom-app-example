
==
<?php


function onStart(){

$partialProperties = [];
// Load module field values
$partialProperties['id'] = array_get($this,'module.id','');
$partialProperties['classes'] = array_get($this,'module.classes','');
$partialProperties['title'] = array_get($this,'module.title','');
$partialProperties['subtitle'] = array_get($this,'module.subtitle','');
$partialProperties['content'] = array_get($this,'module.content','');
$partialProperties['image'] = array_get($this,'module.image','');
$partialProperties['icon'] = array_get($this,'module.icon','');
$partialProperties['link'] = array_get($this,'module.link','');
$partialProperties['button_classes'] = array_get($this,'module.button_classes',"btn btn-primary");
if(!$partialProperties['button_classes'] = 'btn btn-primary z-depth-0 hoverable');

$partialProperties['button_text'] = array_get($this,'module.button_text','');

// Load partial arguments.
//$partialProperties['partialParameter'] = array_get($this,'value.location','default-value');
$partialProperties['titleTag'] = array_get($this,'module.titleTag','h3');
$partialProperties['subtitleTag'] = array_get($this,'module.subtitleTag','span');



// Assign partial properties to 'data' variable.
$this['data'] = $partialProperties;

}
?>

==
<div class='module-contents card style-primary-icon-title h-100'>

    <!--If data.link is NOT provided-->
    {% if not data.link %}
    - update template !



    <!--If data.link is provided-->
    {% else %}

    <div class='module-header card-header'>
        
        {% if data.icon %}
        <i class='module-icon card-icon {{ data.icon }}'> </i>
        {% elseif data.image %}
        <div class='module-image card-image card-image-top'>
            <a href='{{ data.link }}' class='link'>
                <img class='img-fluid ' src='{{data.image | media| resize(800)}}'/>
            </a>
        </div>
        {% endif %}

        {% if data.title %}
        <a href='{{ data.link }}' class='link'>
            <{{data.titleTag}} class='module-title card-title'>
            {{data.title}}
            </{{data.titleTag }}>
        </a>
        {% endif %}

        {% if data.subtitle %}
        <{{data.subtitleTag}} class='module-subtitle card-subtitle'> {{data.subtitle}}</{{ data.subtitleTag}}>
        {% endif %}
        
    </div>


    {% if data.content %}
    <div class='module-content card-body'>
        <div class='card-text'>
            {{data.content | raw}}
        </div>
    </div>
    {% endif %}

    {% if data.button_text %}
    <div class='module-footer card-footer'>
        <a class="{{ data.button_classes }}" href='{{ data.link }}'>{{ data.button_text }}</a>
    </div>
    {% endif %}

    {% endif %}

</div>
